{
  "version": 3,
  "sources": ["../../src/browser/EdgeTTS.browser.ts", "../../src/config/constants.ts"],
  "sourcesContent": ["import { Constants } from '../config/constants';\r\n\r\nexport interface Voice {\r\n    Name: string;\r\n    ShortName: string;\r\n    Gender: string;\r\n    Locale: string;\r\n    FriendlyName: string;\r\n    LocalName: string;\r\n}\r\n\r\nexport interface SynthesisOptions {\r\n    pitch?: string | number;\r\n    rate?: string | number;\r\n    volume?: string | number;\r\n}\r\n\r\nexport class EdgeTTS {\r\n    private audio_stream: Uint8Array[] = [];\r\n    private ws?: WebSocket;\r\n\r\n\r\n    async normalizeVoices(data: any[]): Promise<Voice[]> {\r\n        const out = [];\r\n        for (const v of data || []) {\r\n            const short = v?.ShortName || \"\";\r\n            const locale = v?.Locale || \"\";\r\n\r\n            // base: remove locale prefix and Neural/NeuralHD suffix\r\n            let base = short.replace(/^[a-z]{2}-[A-Z]{2}-/, \"\");\r\n            base = base.replace(/NeuralHD$/, \"\").replace(/Neural$/, \"\").trim();\r\n\r\n            // VoiceType: if NeuralHD/Neural in Name or ShortName\r\n            const mix = `${v?.Name || \"\"} ${short}`;\r\n            const voiceType =\r\n                v?.VoiceType || (/NeuralHD/i.test(mix) ? \"NeuralHD\" : \"Neural\");\r\n\r\n            // LocaleName: prefer LocaleName -> LanguageName -> locale\r\n            const localeName = v?.LocaleName || (locale || null);\r\n\r\n            // DisplayName: prefer DisplayName -> FriendlyName -> base -> short\r\n            let display = v?.DisplayName || v?.FriendlyName || base || short;\r\n            display = display.replace(/^Microsoft\\s+/i, \"\");\r\n            display = display.split(\" - \")[0].trim();\r\n\r\n            display = display.replace(/\\s*Online\\s*\\(Natural\\)\\s*/i, \" \");\r\n            display = display.replace(/\\s*Online\\s*/i, \" \");\r\n            display = display.replace(/\\s+/g, \" \").trim();\r\n\r\n            // VoiceTag parsing\r\n            const tag = (v?.VoiceTag && typeof v.VoiceTag === \"object\") ? v.VoiceTag : {};\r\n            const tailored = Array.isArray(tag.TailoredScenarios)\r\n                ? tag.TailoredScenarios\r\n                : (Array.isArray(tag.ContentCategories) ? tag.ContentCategories : []);\r\n            const personalities = Array.isArray(tag.VoicePersonalities)\r\n                ? tag.VoicePersonalities\r\n                : [];\r\n\r\n            out.push({\r\n                Name: short || (v?.Name || \"\"),\r\n                DisplayName: display,\r\n                LocalName: display,\r\n                ShortName: short || (v?.Name || \"\"),\r\n                Gender: v?.Gender ?? null,\r\n                Locale: locale || null,\r\n                LocaleName: localeName,\r\n                SecondaryLocaleList: Array.isArray(v?.SecondaryLocaleList) ? v.SecondaryLocaleList : [],\r\n                VoiceType: voiceType,\r\n                VoiceTag: {\r\n                    TailoredScenarios: tailored,\r\n                    VoicePersonalities: personalities,\r\n                },\r\n                FriendlyName: `${display} (${voiceType}) - ${localeName}`,\r\n            });\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    async getVoices(): Promise<Voice[]> {\r\n        const secMsGEC = await this.generateSecMsGec(Constants.TRUSTED_CLIENT_TOKEN);\r\n\r\n        const response = await fetch(\r\n            `${Constants.VOICES_URL}?TrustedClientToken=${Constants.TRUSTED_CLIENT_TOKEN}&Sec-MS-GEC=${secMsGEC}&Sec-MS-GEC-Version=${Constants.VERSION_MS_GEC}`,\r\n            { headers: Constants.getBaseHeaders() }\r\n        );\r\n\r\n        const data = await response.json();\r\n        return this.normalizeVoices(data.voices || []);\r\n    }\r\n\r\n    async getVoicesByLanguage(locale: string): Promise<Voice[]> {\r\n        const voices = await this.getVoices();\r\n        return voices.filter(voice => voice.Locale.startsWith(locale));\r\n    }\r\n\r\n    async getVoicesByGender(gender: 'Male' | 'Female'): Promise<Voice[]> {\r\n        const voices = await this.getVoices();\r\n        return voices.filter(voice => voice.Gender === gender);\r\n    }\r\n\r\n    private generateUUID(): string {\r\n        return 'xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            const r = Math.random() * 16 | 0;\r\n            const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    private validatePitch(pitch: string | number): string {\r\n        if (typeof pitch === 'number') {\r\n            return (pitch >= 0 ? `+${pitch}Hz` : `${pitch}Hz`);\r\n        }\r\n        return pitch;\r\n    }\r\n\r\n    private validateRate(rate: string | number): string {\r\n        let rateValue: number;\r\n        if (typeof rate === 'string') {\r\n            rateValue = parseFloat(rate.replace('%', ''));\r\n        } else {\r\n            rateValue = rate;\r\n        }\r\n        return rateValue >= 0 ? `+${rateValue}%` : `${rateValue}%`;\r\n    }\r\n\r\n    private validateVolume(volume: string | number): string {\r\n        let volumeValue: number;\r\n        if (typeof volume === 'string') {\r\n            volumeValue = parseInt(volume.replace('%', ''), 10);\r\n        } else {\r\n            volumeValue = volume;\r\n        }\r\n        return `${volumeValue}%`;\r\n    }\r\n\r\n    private escapeXML(text: string): string {\r\n        return text\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;')\r\n            .replace(/'/g, '&apos;');\r\n    }\r\n\r\n    private getSSML(content: string, voice: string, options: SynthesisOptions = {}): string {        \r\n        const pitch = this.validatePitch(options.pitch ?? 0);\r\n        const rate = this.validateRate(options.rate ?? 0);\r\n        const volume = this.validateVolume(options.volume ?? 0);\r\n        const escapedText = this.escapeXML(content);\r\n\r\n        return `<speak version=\"1.0\" xmlns=\"http://www.w3.org/2001/10/synthesis\" xmlns:mstts=\"https://www.w3.org/2001/mstts\" xml:lang=\"en-US\">\r\n                    <voice name=\"${voice}\">\r\n                        <prosody pitch=\"${pitch}\" rate=\"${rate}\" volume=\"${volume}\">\r\n                            ${escapedText}\r\n                        </prosody>\r\n                    </voice>\r\n                </speak>`;\r\n    }\r\n\r\n    private nowRFC1123(): string {\r\n        return new Date().toUTCString();\r\n    }\r\n\r\n    private parseRFC1123(rfcStr: string): Date {\r\n        return new Date(rfcStr);\r\n    }\r\n\r\n    private buildTTSConfigMessage(): string {\r\n        const timestamp = this.nowRFC1123();\r\n        return `X-Timestamp:${timestamp}\\r\\nContent-Type:application/json; charset=utf-8\\r\\nPath:speech.config\\r\\n\\r\\n` +\r\n            `{\"context\":{\"synthesis\":{\"audio\":{\"metadataoptions\":{\"sentenceBoundaryEnabled\":false,\"wordBoundaryEnabled\":true},\"outputFormat\":\"audio-24khz-48kbitrate-mono-mp3\"}}}}`;\r\n    }\r\n\r\n    async synthesize(text: string, voice: string = 'en-US-JennyNeural', options: SynthesisOptions = {}): Promise<void> {\r\n        const secMsGEC = await this.generateSecMsGec(Constants.TRUSTED_CLIENT_TOKEN);\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.audio_stream = [];\r\n            const reqId = this.generateUUID();\r\n            const url = `${Constants.WSS_URL}?TrustedClientToken=${Constants.TRUSTED_CLIENT_TOKEN}&Sec-MS-GEC=${secMsGEC}&Sec-MS-GEC-Version=${Constants.VERSION_MS_GEC}&ConnectionId=${reqId}`;\r\n\r\n            this.ws = new WebSocket(url);\r\n\r\n            const SSML_text = this.getSSML(text, voice, options);\r\n\r\n            let timedOut = false;\r\n            let inactivityTimeout: number;\r\n\r\n            const resetInactivityTimeout = () => {\r\n                clearTimeout(inactivityTimeout);\r\n                inactivityTimeout = window.setTimeout(() => {\r\n                    timedOut = true;\r\n                    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\r\n                        this.ws.close();\r\n                    }\r\n                    reject(new Error(\"WebSocket inactivity timeout - no response from server\"));\r\n                }, 30000); // 30 seconds of inactivity\r\n            };\r\n\r\n            this.ws.onopen = () => {\r\n                resetInactivityTimeout(); // start the inactivity timeout\r\n                const message = this.buildTTSConfigMessage();\r\n                this.ws!.send(message);\r\n                const timestamp = this.nowRFC1123();\r\n                const speechMessage = `X-RequestId:${reqId}\\r\\nContent-Type:application/ssml+xml\\r\\nX-Timestamp:${timestamp}\\r\\nPath:ssml\\r\\n\\r\\n${SSML_text}`;\r\n                this.ws!.send(speechMessage);\r\n            };\r\n\r\n            this.ws.onmessage = (event) => {\r\n                resetInactivityTimeout(); // restart inactivity timeout \r\n                if (typeof event.data === 'string') {\r\n                    if (event.data.includes('Path:turn.end')) {\r\n                        this.ws?.close();\r\n                    }\r\n                } else {\r\n                    const reader = new FileReader();\r\n                    reader.onload = () => {\r\n                        const arrayBuffer = reader.result as ArrayBuffer;\r\n                        const uint8Array = new Uint8Array(arrayBuffer);\r\n                        this.processAudioData(uint8Array);\r\n                    };\r\n                    reader.readAsArrayBuffer(event.data);\r\n                }\r\n            };\r\n\r\n            this.ws.onerror = (err: any) => {\r\n                clearTimeout(inactivityTimeout);\r\n                if (this.ws && this.ws.readyState === WebSocket.OPEN) {\r\n                    this.ws.close();\r\n                }\r\n                reject(new Error('WebSocket error'));\r\n            };\r\n\r\n            this.ws.onclose = () => {\r\n                clearTimeout(inactivityTimeout);\r\n                if (!timedOut) {\r\n                    resolve();\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    async *synthesizeStream(text: string, voice: string = 'en-US-JennyNeural', options: SynthesisOptions = {}): AsyncGenerator<Uint8Array, void, unknown> {\r\n        this.audio_stream = [];\r\n\r\n        const reqId = this.generateUUID();\r\n        const secMsGEC = await this.generateSecMsGec(Constants.TRUSTED_CLIENT_TOKEN);\r\n\r\n        const url = `${Constants.WSS_URL}?TrustedClientToken=${Constants.TRUSTED_CLIENT_TOKEN}&Sec-MS-GEC=${secMsGEC}&Sec-MS-GEC-Version=${Constants.VERSION_MS_GEC}&ConnectionId=${reqId}`;\r\n\r\n        this.ws = new WebSocket(url);\r\n\r\n        const SSML_text = this.getSSML(text, voice, options);\r\n\r\n        const queue: Uint8Array[] = [];\r\n        let done = false;\r\n        let error: Error | null = null;\r\n        let notify: (() => void) | null = null;\r\n\r\n        const push = (chunk: Uint8Array) => {\r\n            queue.push(chunk);\r\n            if (notify) {\r\n                notify();\r\n                notify = null;\r\n            }\r\n        };\r\n\r\n        let timedOut = false;\r\n        let inactivityTimeout: number;\r\n\r\n        const resetInactivityTimeout = () => {\r\n            clearTimeout(inactivityTimeout);\r\n            inactivityTimeout = window.setTimeout(() => {\r\n                timedOut = true;\r\n                error = new Error(\"WebSocket inactivity timeout - no response from server\");\r\n                done = true;\r\n                if (this.ws && this.ws.readyState === WebSocket.OPEN) {\r\n                    this.ws.close();\r\n                }\r\n                if (notify) {\r\n                    notify();\r\n                    notify = null;\r\n                }\r\n            }, 30000); // 30 seconds of inactivity\r\n        };\r\n\r\n        this.ws.onopen = () => {\r\n            resetInactivityTimeout(); // start the inactivity timeout\r\n            const message = this.buildTTSConfigMessage();\r\n            this.ws!.send(message);\r\n\r\n            const timestamp = this.nowRFC1123();\r\n            const speechMessage = `X-RequestId:${reqId}\\r\\nContent-Type:application/ssml+xml\\r\\nX-Timestamp:${timestamp}\\r\\nPath:ssml\\r\\n\\r\\n${SSML_text}`;\r\n            this.ws!.send(speechMessage);\r\n        };\r\n\r\n        this.ws.onmessage = (event) => {\r\n            resetInactivityTimeout(); // restart inactivity timeout\r\n            if (typeof event.data === 'string') {\r\n                if (event.data.includes('Path:turn.end')) {\r\n                    this.ws?.close();\r\n                }\r\n            } else {\r\n                const reader = new FileReader();\r\n                reader.onload = () => {\r\n                    const arrayBuffer = reader.result as ArrayBuffer;\r\n                    const uint8Array = new Uint8Array(arrayBuffer);\r\n\r\n                    const needle = new TextEncoder().encode(\"Path:audio\\r\\n\");\r\n                    const audioStartIndex = this.indexOf(uint8Array, needle);\r\n\r\n                    if (audioStartIndex !== -1) {\r\n                        const audioChunk = uint8Array.slice(audioStartIndex + needle.length);\r\n                        this.audio_stream.push(audioChunk);\r\n                        push(audioChunk);\r\n                    }\r\n                };\r\n                reader.readAsArrayBuffer(event.data);\r\n            }\r\n        };\r\n\r\n        this.ws.onerror = (err: any) => {\r\n            clearTimeout(inactivityTimeout);\r\n            error = new Error('WebSocket error');\r\n            done = true;\r\n            if (notify) {\r\n                notify();\r\n                notify = null;\r\n            }\r\n        };\r\n\r\n        this.ws.onclose = () => {\r\n            clearTimeout(inactivityTimeout);\r\n            done = true;\r\n            if (notify) {\r\n                notify();\r\n                notify = null;\r\n            }\r\n        };\r\n\r\n        while (!done || queue.length > 0) {\r\n            if (queue.length === 0) {\r\n                await new Promise<void>(resolve => (notify = resolve));\r\n                continue;\r\n            }\r\n            const chunk = queue.shift();\r\n            if (chunk) {\r\n                yield chunk;\r\n            }\r\n        }\r\n\r\n        if (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    private processAudioData(buffer: Uint8Array): void {\r\n        const needle = new TextEncoder().encode(\"Path:audio\\r\\n\");\r\n        const audioStartIndex = this.indexOf(buffer, needle);\r\n\r\n        if (audioStartIndex !== -1) {\r\n            const audioChunk = buffer.slice(audioStartIndex + needle.length);\r\n            this.audio_stream.push(audioChunk);\r\n        }\r\n    }\r\n\r\n    private indexOf(arr: Uint8Array, subarr: Uint8Array): number {\r\n        for (let i = 0; i <= arr.length - subarr.length; i++) {\r\n            let match = true;\r\n            for (let j = 0; j < subarr.length; j++) {\r\n                if (arr[i + j] !== subarr[j]) {\r\n                    match = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (match) return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    private async generateSecMsGec(trustedClientToken: string): Promise<string> {\r\n        const now = this.nowRFC1123();\r\n        const fixedDate = this.parseRFC1123(now);\r\n        const ticks = Math.floor(fixedDate.getTime() / 1000) + 11644473600;\r\n        const rounded = ticks - (ticks % 300);\r\n        const windowsTicks = rounded * 10_000_000;\r\n\r\n        const encoder = new TextEncoder();\r\n        const data = encoder.encode(`${windowsTicks}${trustedClientToken}`);\r\n        const hashBuffer = await crypto.subtle.digest('SHA-256', data);\r\n\r\n        return Array.from(new Uint8Array(hashBuffer))\r\n            .map(b => b.toString(16).padStart(2, '0'))\r\n            .join('')\r\n            .toUpperCase();\r\n    }\r\n\r\n    getAudioData(): Uint8Array {\r\n        if (this.audio_stream.length === 0) {\r\n            throw new Error(\"No audio data available\");\r\n        }\r\n        const totalLength = this.audio_stream.reduce((acc, chunk) => acc + chunk.length, 0);\r\n        const result = new Uint8Array(totalLength);\r\n        let offset = 0;\r\n        for (const chunk of this.audio_stream) {\r\n            result.set(chunk, offset);\r\n            offset += chunk.length;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n", "export const Constants = {\r\n    TRUSTED_CLIENT_TOKEN: '6A5AA1D4EAFF4E9FB37E23D68491D6F4',\r\n    BASE_URL: 'https://speech.platform.bing.com/consumer/speech/synthesize/readaloud',\r\n    WSS_URL: 'wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1',\r\n    VOICES_URL: 'https://speech.platform.bing.com/consumer/speech/synthesize/readaloud/voices/list',\r\n\r\n    CHROMIUM_FULL_VERSION: '143.0.3650.75',\r\n    CHROMIUM_MAJOR_VERSION: '143',\r\n    VERSION_MS_GEC: '1-143.0.3650',\r\n\r\n    token32() {\r\n        const bytes = new Uint8Array(16);\r\n        crypto.getRandomValues(bytes);\r\n\r\n        return Array.from(bytes)\r\n            .map(b => b.toString(16).padStart(2, '0'))\r\n            .join('')\r\n            .toUpperCase();\r\n    },\r\n\r\n    getBaseHeaders() {\r\n        return {\r\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0',\r\n            'Accept-Encoding': 'gzip, deflate, br, zstd',\r\n            'Accept-Language': 'en-US,en;q=0.9',\r\n            'Cookie': 'MUID=' + this.token32()\r\n        };\r\n    },\r\n\r\n    WSS_HEADERS: {\r\n        'Pragma': 'no-cache',\r\n        'Cache-Control': 'no-cache',\r\n        'Origin': 'chrome-extension://jdiccldimpdaibmpdkjnbmckianbfold',\r\n        'Sec-WebSocket-Protocol': 'synthesize',\r\n        'Sec-WebSocket-Version': '13',\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.3650.75 Safari/537.36 Edg/143.0.3650.75'\r\n    },\r\n\r\n    VOICE_HEADERS: {\r\n        'Sec-CH-UA': '\" Not;A Brand\";v=\"99\", \"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\"',\r\n        'Sec-CH-UA-Mobile': '?0',\r\n        'Accept': '*/*',\r\n        'Sec-Fetch-Site': 'none',\r\n        'Sec-Fetch-Mode': 'cors',\r\n        'Sec-Fetch-Dest': 'empty'\r\n    },\r\n\r\n    // https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=nonstreaming\r\n    OUTPUT_FORMAT: {\r\n        'AUDIO_24KHZ_48KBITRATE_MONO_MP3': 'audio-24khz-48kbitrate-mono-mp3',\r\n        'AUDIO_24KHZ_96KBITRATE_MONO_MP3': 'audio-24khz-96kbitrate-mono-mp3',\r\n        'WEBM_24KHZ_16BIT_MONO_OPUS': 'webm-24khz-16bit-mono-opus',\r\n    }\r\n\r\n\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
